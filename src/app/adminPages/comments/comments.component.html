<h3 class="page-header">
  Comentarios
</h3>
<p>Estos comentarios son aquellos que los usuarios dejan en los productos y deben ser evaluados para que aparezcan en la pagina de su determinado producto.</p>
<div class="panel-group m-bot20" id="accordion" *ngIf="comments; else loading">
   <div *ngIf="commentShowEmpty;else noComments">
    <div
    class="panel panel-default"
    *ngFor="let comm of comments | commentShow; let i = index"
  >
    <a
      href=""
      data-toggle="collapse"
      data-parent="#accordion"
      href="#{{ comm.id }}"
    >
      <div class="panel-heading">
        <h4 class="panel-title">
          <a class="accordion-toggle">
            {{ comm.product.name }}
          </a>
        </h4>
      </div>
    </a>
    <div [id]="comm.id" class="panel-collapse collapse">
      <section class="panel">
        <div class="panel-body">
          <div class="row">
            <div class="col-md-12 info">
              <span class="title">
                <b>Usuario:</b>
              </span>
              <span class="title_info">
                {{ comm.user.name }}
              </span>
            </div>
            <div class="col-md-12 info">
              <span class="title">
                <b>Producto:</b>
              </span>
              <a [routerLink]="['/product', comm.product.id]" target="_blank">
                <span class="title_info">
                  {{ comm.product.name }}
                </span>
              </a>
            </div>
            <div class="col-md-12 info">
              <span class="title">
                <b>Puntaje:</b>
              </span>
              <span class="title_info">
                {{ comm.rate }}
              </span>
            </div>
            <div class="col-md-12 info">
              <span class="title">
                <b>Contenido:</b>
              </span>
              <span class="title_info">
                {{ comm.content }}
              </span>
            </div>
          </div>
          <!-- <div class="row">
            <div class="col-md-6">
              <span class="title">
                <b>Producto:</b>
              </span>
              <span class="title_info">
                <a routerLink="/product/{{ producto(comm.product).id }}"> {{ producto(comm.product).name }}</a>
              </span>
            </div>
            
          </div> -->
          <div class="row">
            <div class="col-md-12 footer">
              <a class="btn btn-danger" (click)="borrar(comm.id)"
                >Borrar</a
              >
              <a
                class="btn btn-info pull-right"
                (click)="visualizar(comm)"
                >Permitir Visualizar</a
              >
            </div>
          </div>
        </div>
      </section>
    </div>
  </div>
   </div>
   <ng-template #noComments>
    <div class="alert alert-info">
      No hay Comentarios que Moderar!
    </div>
   </ng-template> 
  
  </div>

  <ng-template #loading>
    <app-loading></app-loading>
  </ng-template>
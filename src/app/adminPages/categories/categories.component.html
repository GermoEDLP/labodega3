<!--collapse start-->
<h3 class="page-header">Categorias <span class="pull-right"><button class="btn btn-info" (click)="saveAll()">Guardar todo</button></span></h3>
<div class="panel-group m-bot20" id="accordion" *ngIf="categories; else loading" >
  <div
    class="panel panel-default"
    *ngFor="let category of categories; let i = index"
    [ngClass]="{disabled: category.id.includes('borrar')}"
  >
    <a
      href=""
      data-toggle="collapse"
      data-parent="#accordion"
      href="#{{ category.id }}"
      
    >
      <div class="panel-heading">
        <h4 class="panel-title">
          <a class="accordion-toggle">
            {{ category.name }}
          </a>
          <span class="pull-right">
            <i
              class="fa fa-pencil pencil_sub_cat"
              (click)="editarCat(i)"
            ></i>
            <i
              class="fa fa-trash-o trash_sub_cat"
              (click)="borrarCat(i)"
            ></i>
          </span>
        </h4>
      </div>
    </a>
    <div [id]="category.id" class="panel-collapse collapse">
      <section class="panel">
        <ul class="list-group">
          <li
            class="list-group-item"
            *ngFor="let subs of category.subs; let is = index"
            [ngClass]="{disabled: subs == disabled}"
          >
            {{ subs }}
            <span class="pull-right">
              <i
                class="fa fa-pencil pencil_sub_cat"
                (click)="editarSubCat(i, is)"
              ></i>
              <i
                class="fa fa-trash-o trash_sub_cat"
                (click)="borrarSubCat(i, is)"
              ></i>
            </span>
          </li>
          <li class="text-center add_sub_cat">
            <i class="fa fa-plus" (click)="nuevaSubCat(i)"></i>
          </li>
        </ul>
      </section>
    </div>
    
  </div>

  <div class="panel panel-default">
    <a href="" data-toggle="collapse" data-parent="#accordion">
      <div class="panel-heading text-center">
        <h4 class="panel-title">
          <a class="accordion-toggle">
              <i class="fa fa-plus" (click)="nuevaCategoria()"></i>
          </a>
        </h4>
      </div>
    </a>
  </div>
</div>
<!--collapse end-->

<ng-template #loading>
    <app-loading></app-loading>
</ng-template> 
